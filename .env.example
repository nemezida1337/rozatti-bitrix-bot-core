# ====== Server ======
PORT=8080
BASE_URL=https://your-public-https-host

# ====== Logs ======
LOG_DIR=./logs
LOG_LEVEL=info

# ====== OAuth app (Bitrix Local App) ======
BITRIX_CLIENT_ID=
BITRIX_CLIENT_SECRET=
BITRIX_OAUTH_URL=https://oauth.bitrix.info/oauth/token/
BITRIX_OAUTH_REDIRECT=${BASE_URL}/oauth/callback

# ====== Incoming events security ======
# Опционально: защита /bitrix/events (query secret=... или header x-hf-events-token)
BITRIX_EVENTS_SECRET=
# 1 = сверять application_token события с сохраненным в store
BITRIX_VALIDATE_APP_TOKEN=0
# 1 = временно обрабатывать onimmessageadd (по умолчанию только onimbotmessageadd)
BITRIX_ALLOW_ONIMMESSAGEADD=0

# ====== Storage ======
TOKENS_FILE=./data/portals.json

# ====== Bot ======
BOT_CODE=ram_parts_bot
BOT_NAME=RAM Parts Bot
BOT_OPENLINES_WELCOME=Добро пожаловать! Напишите VIN или номер детали.
# O = Open Lines бот (по умолчанию), B = chat bot (для диагностики)
BOT_TYPE=O

# ====== OpenAI / LLM ======
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4.1-mini
LLM_MODEL=gpt-4.1-mini
LLM_MODEL_STRUCTURED=gpt-4.1-mini
LLM_CURRENCY=₽

# ====== ABCP ======
ABCP_HOST=
ABCP_DOMAIN=
ABCP_USERLOGIN=
ABCP_USERPSW_MD5=
ABCP_KEY=
ABCP_PROFILE_ID=

# ====== HF-CORTEX integration ======
HF_CORTEX_ENABLED=true
HF_CORTEX_URL=http://127.0.0.1:9000/api/hf-cortex/lead_sales
HF_CORTEX_TIMEOUT_MS=20000
HF_CORTEX_API_KEY=change-me

# ====== Diagnostics dumps ======
# На проде лучше выключить (0), включать временно при расследовании
EVENT_DUMP=0
EVENT_DUMP_RAW=0
EVENT_DUMP_DIR=./data/events
HF_CORTEX_DUMP=0
HF_CORTEX_DUMP_DIR=./data/cortex
